// Generated by CoffeeScript 1.9.1
(function() {
  var CounterCache;

  CounterCache = (function() {
    function CounterCache() {
      this.cache = {};
    }

    CounterCache.prototype.flushTo = function(queue) {
      var name, ref, results, value;
      ref = this.cache;
      results = [];
      for (name in ref) {
        value = ref[name];
        queue.push({
          name: name,
          value: value
        });
        results.push(delete this.cache[name]);
      }
      return results;
    };

    CounterCache.prototype.increment = function(name, value) {
      var base;
      if (value == null) {
        value = 1;
      }
      if ((base = this.cache)[name] == null) {
        base[name] = 0;
      }
      return this.cache[name] += value;
    };

    return CounterCache;

  })();

  module.exports = CounterCache;

}).call(this);

//# sourceMappingURL=counter_cache.js.map
